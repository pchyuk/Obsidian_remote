## FAE with Named Local Function
### ğ‘’ âˆ·= â‹…â‹…â‹… | def ğ‘¥(ğ‘¥) = ğ‘’ in ğ‘’
- def ğ‘“(ğ‘) = ğ‘’1 in ğ‘’2ëŠ” ì´ë¦„ì´ ğ‘“ì´ê³  ë§¤ê°œë³€ìˆ˜ê°€ ğ‘ì´ê³  ë³¸ë¬¸ì´ ğ‘’1ì¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  ğ‘’2ì—ì„œ ì‚¬ìš©í•œë‹¤.
- í•¨ìˆ˜ ì •ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

---
## Semantics


```Scala
def sum(x: Int): Int = 
	if (x==0)
		0
	else
		x + sum(x-1)

println(sum(10))
```
---

## 10.1. Syntax
### If-expression
`e ::= ... | if 0 e e e | def x(x) = e in e`

`def sum(x) = if 0 x 0(x + sum(x - 1)) in sum 10`
- ì´ê±° ëŒë¦¬ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ ë‚œë‹¤. ì™œ?
	- xì— ìŒìˆ˜ ë„£ëŠ” ê±° ë§ê³ 
		- ì´ê²ƒë„ ì—ëŸ¬ë‚˜ê¸´ í•œë‹¤.
		- Scalaì— ëŒ€ì†Œë¹„êµê°€ ì—†ì–´ì„œ
		- ê·¼ë° ì–˜ëŠ” ê·¸ëƒ¥ ì—ëŸ¬ê°€ ë‚˜ê³  ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë‚˜ëŠ” ì´ìœ 

- A: ì € ì½”ë“œ ì•ˆì— sum ë³€ìˆ˜ê°€ ì—†ë‹¤!
	- sum ê°’ìœ¼ë¡œ 10ì„ ë„£ê³  recursionì„ ëŒë ¤ë³´ë ¤ë‹ˆê¹Œ sumì´ ì—†ìŒ

- ê·¸ëŸ¼ ì–´ë–»ê²Œ ê³ ì¹ ê¹Œ?
	- Semanticsë¥¼ ê³ ì¹˜ì

---
### 10.2. Semantics

![[Pasted image 20241021105052.png]]

![[Pasted image 20241021105107.png]]

![[Pasted image 20241021105123.png]]

---
### 10.3. Interpreter
```Scala
sealed trait Expr
...
case class If0(c: Expr, t: Expr, f: Expr) extends Expr
case class Rec(f: String, x: String, b: Expr, e: Expr) extends Expr

sealed trait Value
case class NumV(n: Int) extends Value
case class CloV(p: String, b: Expr, var e: Env) extends Value

def interp(e: Expr, env: Env): Value = e match {
	...
	case If0(c, t, f) =>
		interp(if (interp(c, env)))
}
```
