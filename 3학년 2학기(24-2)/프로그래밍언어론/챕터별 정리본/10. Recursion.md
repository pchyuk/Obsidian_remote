## FAE with Named Local Function
### ð‘’ âˆ·= â‹…â‹…â‹… | def ð‘¥(ð‘¥) = ð‘’ in ð‘’
- def ð‘“(ð‘Ž) = ð‘’1 in ð‘’2ëŠ” ì´ë¦„ì´ ð‘“ì´ê³  ë§¤ê°œë³€ìˆ˜ê°€ ð‘Žì´ê³  ë³¸ë¬¸ì´ ð‘’1ì¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  ð‘’2ì—ì„œ ì‚¬ìš©í•œë‹¤.
- í•¨ìˆ˜ ì •ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìžˆë‹¤.

---
## Semantics
![[Pasted image 20241104013131.png]]

---
## Defining Recursive Function (ìž¬ê·€ í•¨ìˆ˜ ì •ì˜)

```Scala
def sum(x: Int): Int = 
	if (x == 0)
		0
	else
		x + sum(x - 1)

println(sum(10))
```

- if í‘œí˜„ì‹ ì¶”ê°€
- í•¨ìˆ˜ ë³¸ë¬¸ì´ í•¨ìˆ˜ ìžì²´ë¥¼ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.
---
## If-expression
### e ::= ... | if 0 e e e | def x(x) = e in e
![[Pasted image 20241104013403.png]]

- if0 ð‘’1 ð‘’2 ð‘’3ì€ ð‘’1ì´ 0ìœ¼ë¡œ í‰ê°€ë˜ë©´ ð‘’2ì˜ í‰ê°€ ê²°ê³¼ë¡œ í‰ê°€ë˜ëŠ” ì¡°ê±´ì‹ì´ë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ð‘’3ì˜ í‰ê°€ ê²°ê³¼ë¡œ í‰ê°€ëœë‹¤.

---
## Recursive Function Definition: Problem
- ìž¬ê·€ í•¨ìˆ˜ ì •ì˜: ë¬¸ì œ
```Scala
def sum(x: Int): Int = 
	if (x == 0)
		0
	else
		x + sum(x - 1)

println(sum(10))
```
### def sum(x) = if 0 x 0(x + sum(x - 1)) in sum 10
![[Pasted image 20241104013725.png]]

- ì´ê±° ëŒë¦¬ë©´ ëŸ°íƒ€ìž„ ì—ëŸ¬ ë‚œë‹¤. ì™œ?
	- xì— ìŒìˆ˜ ë„£ëŠ” ê±° ë§ê³ 
		- ì´ê²ƒë„ ì—ëŸ¬ë‚˜ê¸´ í•œë‹¤.
		- Scalaì— ëŒ€ì†Œë¹„êµê°€ ì—†ì–´ì„œ
		- ê·¼ë° ì–˜ëŠ” ê·¸ëƒ¥ ì—ëŸ¬ê°€ ë‚˜ê³  ëŸ°íƒ€ìž„ ì—ëŸ¬ê°€ ë‚˜ëŠ” ì´ìœ 

- A: ì € ì½”ë“œ ì•ˆì— sum ë³€ìˆ˜ê°€ ì—†ë‹¤!
	- sum ê°’ìœ¼ë¡œ 10ì„ ë„£ê³  recursionì„ ëŒë ¤ë³´ë ¤ë‹ˆê¹Œ sumì´ ì—†ìŒ

- ê·¸ëŸ¼ ì–´ë–»ê²Œ ê³ ì¹ ê¹Œ?
	- Semanticsë¥¼ ê³ ì¹˜ìž

---
### 10.2. Semantics

![[Pasted image 20241021105052.png]]

![[Pasted image 20241021105107.png]]

![[Pasted image 20241021105123.png]]

---



---
## Interpreter
```Scala
sealed trait Expr
...
case class If0(c: Expr, t: Expr, f: Expr) extends Expr
case class Rec(f: String, x: String, b: Expr, e: Expr) extends Expr

sealed trait Value
case class NumV(n: Int) extends Value
case class CloV(p: String, b: Expr, var e: Env) extends Value

def interp(e: Expr, env: Env): Value = e match {
	...
	case If0(c, t, f) =>
		interp(if (interp(c, env)))
}
```

![[Pasted image 20241104014022.png]]

---
## ì˜ˆì‹œ
![[Pasted image 20241104014103.png]]

![[Pasted image 20241104014050.png]]