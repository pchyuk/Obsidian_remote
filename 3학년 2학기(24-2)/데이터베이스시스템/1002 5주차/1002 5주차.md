## 6장 복습
#### Relational Operations
- Relational Algebra
	- 단일 relation 연산
		- Select($\sigma$) - 행 선택(가로)?
		- Project($\pi$) - 열 선택(세로)?
	- 집합 연산자
		- 합집합($\cup$) - UNION
		- 교집합($\cap$) - INTERSECT
		- 차집합(-) - EXCEPT / MINUS
	- 두 개 Relation 연산
		- Cartesian product
		- join(테이블 연결 - merge)
			- equi(동치치)-join
			- theta-join
			- self-join
			- n
			- outer-join
- Relational Calculus

---
## Ambiguous Attribute Names (40p)
---
## Aliasing and Renaming (41p)
- Self Join
- 예) 각 직원에 대해 직원의 이름과 성, 그리고 직속 상사의 이름과 성을 검색하는 법
```SQL
SELECT  E.Fname, E.Lname, S.Fname, S.Lname
FROM  EMPLOYEE AS E, EMPLOYEE AS S
WHERE E.Super_ssn=S.Ssn;
```

---
## Unspecified WHERE Clause and Use of the Asterisk
---
## Tables as Sets in SQL
- SQL은 쿼리 결과에서 중복 튜플을 자동으로 제거하지 않는다.
- SELECT 에서 ==DISTINCT== 키워드를 사용하면 된다.
	- 결과에는 고유한 튜플만 남아야 한다.
![[Pasted image 20241002104457.png]]

- 집합 연산
	- UNION, EXCEPT(차이), INTERSECT
	- 이러한 연산이 유효하려면 유형 호환성(Type compatibility)이 필요하다.

```SQL
SELECT * FROM Employee
UNION ALL
SELECT * FROM Employee2;
```
- UNION - 중복 제거
- UNION ALL - 중복 포함(모든 결과 출력)

```SQL
SELECT * FROM Employee
EXCEPT ALL
SELECT * FROM Employee2;
```
- EXCEPT - Employee에서 Employee2 빼기
- EXCEPT ALL

```SQL
SELECT * FROM Employee
INTERSECT ALL
SELECT * FROM Employee2;
```
- INTERSECT - 중복된 부분 한 번만 출력?
- INTERSECT ALL - 중복된 부분 전부 출력?

---
### Join
#### equi-join(동치 조인)
```SQL
SELECT *
FROM Employee e, Department d
WHERE e.dno = d.dno
```

#### theta-join
```SQL
SELECT *
FROM Employee e, Department d
WHERE e.ssn > 200
```

#### natural-join
```SQL
SELECT e.dno, d.dname, e.ssn, e.
FROM Employee e, Department d
WHERE e.ssn > 200
```